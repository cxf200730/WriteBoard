{"remainingRequest":"D:\\a_Main\\7-27本地切片随便发\\WriteBoardWeb\\node_modules\\babel-loader\\lib\\index.js!D:\\a_Main\\7-27本地切片随便发\\WriteBoardWeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\a_Main\\7-27本地切片随便发\\WriteBoardWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a_Main\\7-27本地切片随便发\\WriteBoardWeb\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a_Main\\7-27本地切片随便发\\WriteBoardWeb\\src\\components\\Login.vue","mtime":1627007038649},{"path":"D:\\a_Main\\7-27本地切片随便发\\WriteBoardWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626412951070},{"path":"D:\\a_Main\\7-27本地切片随便发\\WriteBoardWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":1626412962269},{"path":"D:\\a_Main\\7-27本地切片随便发\\WriteBoardWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626412951070},{"path":"D:\\a_Main\\7-27本地切片随便发\\WriteBoardWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":1626412960418}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport $ from \"../../node_modules/jquery/dist/jquery.js\";\nimport store from \"../store.js\";\nexport default {\n  store: store,\n  created: function created() {},\n  data: function data() {\n    return {\n      form: {\n        \"ConnectionDetail\": 4,\n        \"LocalIp\": \"192.168.51.198\",\n        \"AimIp\": \"101.34.101.58\",\n        \"UserType\": 0,\n        // \"UserName\": store.state.userName,\n        // \"UserCode\": store.state.userName,\n        // \"CLassCode\": store.state.classCode,\n        \"UserName\": \"\",\n        \"UserCode\": \"\",\n        \"CLassCode\": \"\",\n        \"JsonType\": 4,\n        \"JsonData\": \"登录到服务器\",\n        \"ContentSocket\": null\n      }\n    };\n  },\n  methods: {\n    login: function login() {\n      if (this.form.UserCode == null || this.form.UserCode == \"\" || this.form.CLassCode == null || this.form.CLassCode == \"\") {\n        this.$message({\n          message: '输入不能为空哦',\n          type: 'warning'\n        });\n      } else {\n        this.initWebSocket();\n      }\n    },\n    initWebSocket: function initWebSocket() {\n      //初始化weosocket\n      var wsuri = \"ws://192.168.51.198:9999\"; // const wsuri = \"ws://101.34.101.58:9999\"; \n\n      this.websock = new WebSocket(wsuri);\n      this.websock.onopen = this.websocketonopen;\n      this.websock.onmessage = this.websocketonmessage;\n      this.websock.onerror = this.websocketonerror;\n      this.websock.onclose = this.websocketclose;\n    },\n    websocketonopen: function websocketonopen() {\n      //连接建立之后执行send方法发送数据\n      var msg = JSON.stringify(this.form); //转化为json字符串\n\n      console.log(this.form);\n      console.log(msg);\n      this.websocketsend(msg);\n    },\n    websocketonerror: function websocketonerror() {//连接建立失败重连\n    },\n    websocketonmessage: function websocketonmessage(e) {\n      //数据接收\n      var jsonObj = eval('(' + e.data + ')');\n      console.log(jsonObj);\n      console.log(jsonObj.JsonData);\n\n      if (jsonObj.JsonData == \"false\") {\n        this.$message.error('登陆失败');\n      } else {\n        var that = this;\n        this.$store.commit('getuserCode', this.form.UserCode);\n        this.$store.commit('getclassCode', this.form.CLassCode); // this.$message({\n        // \t\t\t\t  message: '登陆成功',\n        // \t\t\t\t  type: 'success'\n        // \t\t\t\t});\n        // this.form.JsonData = \"close\"\n        // var msg = JSON.stringify(this.form);//转化为json字符串\n        // this.websock.close();\n        // this.websocketsend(msg);\n\n        that.$router.push('Watch');\n\n        this.websock.onclose = function (e) {\n          console.log(\"关闭\"); // that.$router.push('Watch')\n        };\n      }\n    },\n    websocketsend: function websocketsend(Data) {\n      //数据发送\n      this.websock.send(Data);\n    },\n    websocketclose: function websocketclose(e) {\n      //关闭\n      console.log('断开连接', e);\n    }\n  },\n  mounted: function mounted() {}\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<el-container class = \"all\">\r\n\t\t\r\n\t  <el-header height = 10%>\r\n\t\t  \r\n\t\t  <div style=\"margin-left: 10px;font-size: 20px;letter-spacing:2px\">金奥手写板直播平台</div>\r\n\t\t\t  <div style=\"margin-right: 30px;\">帮助</div>\r\n\t  </el-header>\r\n\t  \r\n\t  <el-main>\r\n\t\t  <el-card class=\"box-card\">\r\n\t\t    <div slot=\"header\" class=\"clearfix\" style=\"height: 50px;line-height: 50px;\">\r\n\t\t      <span style=\"font-size: 25px;font-weight: bold;\" >学生登录</span>\r\n\t\t    </div>\r\n\t\t    <div style=\"text-align: center;\">\r\n\t\t\t\t<el-input style=\"width: 85%;margin-top: 10%;\" prefix-icon = \"iconfont icon-yonghu\" v-model=\"form.UserCode\"  placeholder=\"请输入学号\"></el-input>\r\n\t\t\t\t<el-input style=\"width: 85%;margin-top: 5%;\" prefix-icon = \"iconfont icon-banjiguanli\" v-model=\"form.CLassCode\"  placeholder=\"请输入班级号\"></el-input>\r\n\t\t\t\t<!-- <el-input style=\"width: 85%;margin-top: 5%;\" prefix-icon = \"iconfont icon-mima\" v-model=\"form.code\"  placeholder=\"请输入课堂码\"></el-input> -->\r\n\t\t\t\t<el-button style=\"width: 85%;margin-top: 15%;height: 50px;\" type=\"primary\" @click = \"login()\">登录</el-button>\r\n\t\t\t</div> \r\n\t\t  </el-card>\r\n\t  </el-main>\r\n\t  \r\n\t  <el-footer height = 20%>\r\n\t\t\t<div style=\"font-size: 13px;\">\r\n\t\t\t\t隐私政策\r\n\t\t\t<el-divider direction=\"vertical\"></el-divider>\r\n\t\t\t\t儿童隐私政策\r\n\t\t\t<el-divider direction=\"vertical\"></el-divider>\r\n\t\t\t\t家长须知\r\n\t\t  </div>\r\n\t  </el-footer>\r\n\t</el-container>\n</template>\n\n<script>\r\n\timport $ from '../../node_modules/jquery/dist/jquery.js'\r\n\timport store from '../store.js'\nexport default {\n\tstore,\r\n\tcreated(){\r\n\t \r\n\t},\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tform:{\r\n\t\t\t\t\"ConnectionDetail\": 4,\r\n\t\t\t\t\"LocalIp\": \"192.168.51.198\",\r\n\t\t\t\t\"AimIp\": \"101.34.101.58\",\r\n\t\t\t\t\"UserType\": 0,\r\n\t\t\t\t// \"UserName\": store.state.userName,\r\n\t\t\t\t// \"UserCode\": store.state.userName,\r\n\t\t\t\t// \"CLassCode\": store.state.classCode,\r\n\t\t\t\t\"UserName\": \"\",\r\n\t\t\t\t\"UserCode\": \"\",\r\n\t\t\t\t\"CLassCode\": \"\",\r\n\t\t\t\t\"JsonType\": 4,\r\n\t\t\t\t\"JsonData\": \"登录到服务器\",\r\n\t\t\t\t\"ContentSocket\": null\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\tlogin(){\r\n\t\t\tif(this.form.UserCode == null || this.form.UserCode == \"\" || this.form.CLassCode == null || this.form.CLassCode == \"\"){\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t          message: '输入不能为空哦',\r\n\t\t\t\t          type: 'warning'\r\n\t\t\t\t        });\r\n\t\t\t}else{\r\n\t\t\t\tthis.initWebSocket();\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitWebSocket(){ //初始化weosocket\r\n\t\t\r\n\t\t        const wsuri = \"ws://192.168.51.198:9999\";    \r\n\t\t\t\t// const wsuri = \"ws://101.34.101.58:9999\"; \r\n\t\t\t\tthis.websock = new WebSocket(wsuri);\r\n\t\t\t\tthis.websock.onopen = this.websocketonopen;\r\n\t\t\t\tthis.websock.onmessage = this.websocketonmessage;\r\n\t\t\t\tthis.websock.onerror = this.websocketonerror;\r\n\t\t\t\tthis.websock.onclose = this.websocketclose;\r\n\t\t},\r\n\t\twebsocketonopen(){ //连接建立之后执行send方法发送数据\r\n\t\t\tvar msg = JSON.stringify(this.form);//转化为json字符串\r\n\t\t\tconsole.log(this.form);\r\n\t\t\tconsole.log(msg); \r\n\t\t\tthis.websocketsend(msg);\r\n\t\t},\r\n\t\twebsocketonerror(){//连接建立失败重连\r\n\t\t\r\n\t\t},\r\n\t\twebsocketonmessage(e){ //数据接收\r\n\t\t\tvar jsonObj = eval('(' + e.data + ')');\r\n\t\t\tconsole.log(jsonObj)\r\n\t\t\tconsole.log(jsonObj.JsonData)\r\n\t\t\tif(jsonObj.JsonData == \"false\"){\r\n\t\t\t\tthis.$message.error('登陆失败');\r\n\t\t\t}else{\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthis.$store.commit('getuserCode', this.form.UserCode)\r\n\t\t\t\tthis.$store.commit('getclassCode', this.form.CLassCode)\r\n\t\t\t\t// this.$message({\r\n\t\t\t\t// \t\t\t\t  message: '登陆成功',\r\n\t\t\t\t// \t\t\t\t  type: 'success'\r\n\t\t\t\t// \t\t\t\t});\r\n\t\t\t\t// this.form.JsonData = \"close\"\r\n\t\t\t\t// var msg = JSON.stringify(this.form);//转化为json字符串\r\n\t\t\t\t// this.websock.close();\r\n\t\t\t\t// this.websocketsend(msg);\r\n\t\t\t\tthat.$router.push('Watch')\r\n\t\t\t\tthis.websock.onclose = function(e){\r\n\t\t\t\t\tconsole.log(\"关闭\")\r\n\t\t\t\t\t// that.$router.push('Watch')\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\twebsocketsend(Data){//数据发送\r\n\t\tthis.websock.send(Data);\r\n\t\t},\r\n\t\twebsocketclose(e){  //关闭\r\n\t\t\tconsole.log('断开连接',e);\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\t\r\n\t},\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"less\" scoped>\n.all{\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n\t  .el-header, {\r\n\t     background-color: #FFFFFF;\r\n\t     color: #333;\r\n\t     line-height: 80px;\r\n\t\t display: flex;\r\n\t\t justify-content: space-between;\r\n\t   }\r\n\t   .el-main {\r\n\t\tbackground-color: #48a2f7;\r\n\t\tbackground-image: url(../assets/bg.jpg);\r\n\t\tbackground-size: contain;\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-position: 50%;\r\n\t\ttext-align: center;\r\n\t\t.text {\r\n\t\t    font-size: 14px;\r\n\t\t  }\r\n\t\t\r\n\t\t  .item {\r\n\t\t    margin-bottom: 18px;\r\n\t\t  }\r\n\t\t\r\n\t\t  .box-card {\r\n\t\t    width: 22%;\r\n\t\t\theight: 85%;\r\n\t\t\tmargin-left: 60%;\r\n\t\t\tmargin-top: 2%;\r\n\t\t  }\r\n\t   }\r\n\t   .el-footer {\r\n\t\t   background-color: #FFFFFF;\r\n\t\t   color: #333;\r\n\t\t   text-align: center;\r\n\t\t   line-height: 60px;\r\n\t   }\r\n\t   \r\n\t   \r\n}\r\n\r\n\n\n</style>\n"],"sourceRoot":"src/components"}]}