{"remainingRequest":"D:\\a_Main\\HBuildX7-23优化撤销 显示username\\WriteBoardWeb\\node_modules\\thread-loader\\dist\\cjs.js!D:\\a_Main\\HBuildX7-23优化撤销 显示username\\WriteBoardWeb\\node_modules\\babel-loader\\lib\\index.js!D:\\a_Main\\HBuildX7-23优化撤销 显示username\\WriteBoardWeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\a_Main\\HBuildX7-23优化撤销 显示username\\WriteBoardWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a_Main\\HBuildX7-23优化撤销 显示username\\WriteBoardWeb\\src\\components\\Watch.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a_Main\\HBuildX7-23优化撤销 显示username\\WriteBoardWeb\\src\\components\\Watch.vue","mtime":1627123269214},{"path":"D:\\a_Main\\HBuildX7-23优化撤销 显示username\\WriteBoardWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626412951070},{"path":"D:\\a_Main\\HBuildX7-23优化撤销 显示username\\WriteBoardWeb\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1626412948582},{"path":"D:\\a_Main\\HBuildX7-23优化撤销 显示username\\WriteBoardWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":1626412962269},{"path":"D:\\a_Main\\HBuildX7-23优化撤销 显示username\\WriteBoardWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626412951070},{"path":"D:\\a_Main\\HBuildX7-23优化撤销 显示username\\WriteBoardWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":1626412960418}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport $ from \"../../node_modules/jquery/dist/jquery.js\";\nimport store from \"../store.js\";\nimport flv from 'flv.js';\nexport default {\n  store: store,\n  created: function created() {\n    if (flv.isSupported()) {\n      this.player = flv.createPlayer({\n        type: 'flv',\n        url: 'http://101.34.101.58/live?port=9988&&app=live&&stream=test',\n        isLive: true\n      });\n    }\n  },\n  data: function data() {\n    return {\n      dialogFormVisible: false,\n      player: null,\n      playing: false,\n      screenWidth: 0,\n      //屏幕宽度\n      screenHeight: 0,\n      //屏幕高度\n      websock: null,\n      drawx: 100,\n      drawy: 500,\n      //页面启动自动接连\n      form: {\n        \"ConnectionDetail\": 4,\n        \"LocalIp\": \"192.168.51.198\",\n        \"AimIp\": \"101.34.101.58\",\n        \"UserType\": 0,\n        // \"UserName\": store.state.userName,\n        // \"UserCode\": store.state.userCode,\n        // \"CLassCode\": store.state.classCode,\n        \"UserName\": \"\",\n        \"UserCode\": \"17003\",\n        \"CLassCode\": \"5327\",\n        \"JsonType\": 4,\n        \"JsonData\": \"登录到服务器\",\n        \"ContentSocket\": null\n      },\n      countnum: 0,\n      //坐标点对象\n      pointObj: null,\n      textarea: '',\n      iscandraw: false,\n      flag: false,\n      x: 0,\n      y: 0,\n      pointArray: [],\n      testjson: {\n        \"ConnectionDetail\": 4,\n        \"LocalIp\": \"192.168.51.198\",\n        \"AimIp\": \"192.168.51.198\",\n        \"UserType\": 0,\n        \"UserName\": 123,\n        \"UserCode\": 123,\n        \"CLassCode\": 5327,\n        \"JsonType\": 6,\n        \"JsonData\": \"\",\n        \"ContentSocket\": null\n      },\n      ChatArray: [],\n      bgimg: \"http://qwf43oqfq.hn-bkt.clouddn.com/%E6%A1%8C%E9%9D%A2%E5%A3%81%E7%BA%B8.jpg\",\n      imgObj: null,\n      imgSrcRoot: 'http://qwf43oqfq.hn-bkt.clouddn.com/',\n      imgData: null,\n      temp: null,\n      pdfheight: 0,\n      pdfwidth: 0,\n      upPicture: null,\n      nowPicture: null\n    };\n  },\n  methods: {\n    login: function login() {\n      this.dialogFormVisible = false;\n      this.initWebSocket();\n    },\n    clearcanvas: function clearcanvas() {\n      var context = document.getElementById(\"mycanvas\").getContext('2d');\n      context.canvas.width = context.canvas.width;\n    },\n    canvascopy: function canvascopy() {\n      var context = document.getElementById(\"mycanvas\").getContext('2d');\n      var width = context.canvas.width;\n      var height = context.canvas.height;\n      this.imgData = context.getImageData(0, 0, width, height);\n      var newCanvas = $(\"<canvas>\").attr(\"width\", this.imgData.width).attr(\"height\", this.imgData.height)[0];\n      newCanvas.getContext(\"2d\").putImageData(this.imgData, 0, 0);\n      this.temp = newCanvas;\n    },\n    canvaspaste: function canvaspaste() {\n      var context = document.getElementById(\"mycanvas\").getContext('2d');\n      var width = context.canvas.width;\n      var height = context.canvas.height;\n      context.scale(width / this.temp.width, height / this.temp.height);\n      context.drawImage(this.temp, 0, 0);\n      this.imgData = context.getImageData(0, 0, width, height);\n      var newCanvas = $(\"<canvas>\").attr(\"width\", this.imgData.width).attr(\"height\", this.imgData.height)[0];\n      newCanvas.getContext(\"2d\").putImageData(this.imgData, 0, 0); // context = document.getElementById(\"mycanvas\").getContext('2d');\n\n      context.canvas.width = width;\n      context.canvas.height = height;\n      context.drawImage(newCanvas, 0, 0);\n      console.log(width + \" + \" + height);\n    },\n    revocation: function revocation() {\n      // this.canvaspaste();\n      var context = document.getElementById(\"mycanvas\").getContext('2d');\n      context.canvas.width = context.canvas.width;\n      this.canvaspaste();\n    },\n    loadImg: function loadImg() {\n      var that = this;\n      var beauty = new Image();\n      beauty.crossOrigin = 'Anonymous'; //这是是需要加的\n\n      beauty.src = this.imgSrcRoot + this.imgObj;\n      console.log(444 + beauty.src);\n\n      beauty.onload = function () {\n        // 等比例缩放图片\n        var scale = 1;\n        var mycv = document.getElementById(\"mycanvas\");\n        var myctx = mycv.getContext(\"2d\");\n        this.width = mycv.width / 2;\n        this.height = mycv.height;\n        console.log(this.width + \"+\" + this.height);\n        myctx.drawImage(this, 0, 0, this.width, this.height); // 加载图片\n        //myctx.drawImage(this, 0, 0)\n\n        that.canvascopy();\n      };\n    },\n    initCanvas: function initCanvas() {\n      console.log(\"initcanvas\");\n      var canvas = document.getElementById(\"mycanvas\");\n      var context = canvas.getContext('2d');\n      canvas.width = window.innerWidth * 0.75;\n      canvas.height = window.innerHeight * 0.85;\n      canvas.style.width = window.innerWidth * 0.75;\n      canvas.style.height = window.innerHeight * 0.85;\n    },\n    drawline: function drawline() {\n      var that = this;\n      console.log(\"可以画了\");\n      console.log(window.innerWidth);\n      var canvas = document.getElementById(\"mycanvas\");\n      var context = canvas.getContext('2d'); // canvas.width = window.innerWidth * 0.75;\n      // canvas.height =  window.innerHeight * 0.85;\n      // canvas.style.width = window.innerWidth * 0.75;\n      // canvas.style.height =  window.innerHeight * 0.85;\n\n      var canvasWidth = canvas.width;\n      var canvasHeight = canvas.height;\n\n      canvas.onmousedown = function (e) {\n        that.pointArray = [];\n        var point = {};\n        var count = [];\n        var mid = [];\n        var e = e || window.event;\n        var ox = e.clientX - window.innerWidth * 0.025;\n        var oy = e.clientY - window.innerHeight * 0.11;\n        context.moveTo(ox, oy);\n\n        document.onmousemove = function (e) {\n          // setTimeout(\"showLogin()\",1000); \n          var e = e || window.event;\n          var ox2 = e.clientX - window.innerWidth * 0.025;\n          var oy2 = e.clientY - window.innerHeight * 0.11;\n          point.X = parseFloat(that.BoradWidth - that.BoradWidth * (e.clientX - window.innerWidth * 0.025) / canvasWidth).toFixed(4);\n          point.Y = parseFloat(that.BoradHeight - that.BoradHeight * (e.clientY - window.innerHeight * 0.11) / canvasHeight).toFixed(4);\n          console.log(point.X + \"+++\" + point.Y);\n          context.lineTo(ox2, oy2);\n          context.stroke();\n          count.push(point);\n          point = {};\n        };\n\n        document.onmouseup = function (e) {\n          document.onmousemove = null;\n          document.onmouseup = null;\n\n          for (var i = 0; i < count.length; i++) {\n            mid.push(count[i]);\n            mid.push(count[i + 1]);\n            that.pointArray.push(mid);\n            mid = [];\n          }\n\n          that.form.JsonType = 7;\n          var msg = JSON.stringify(that.pointArray);\n          that.form.JsonData = msg;\n          that.countnum++;\n          that.canvascopy();\n        };\n      };\n\n      console.log(1111111111111111111111111111111111111111111111);\n      console.log(canvasWidth);\n      console.log(canvasHeight);\n\n      for (var i = 0; i < this.pointObj.length; i++) {\n        context.moveTo(canvasWidth - this.pointObj[i][0].X / this.BoradWidth * canvasWidth, canvasHeight - this.pointObj[i][0].Y / this.BoradHeight * canvasHeight);\n        context.lineTo(canvasWidth - this.pointObj[i][1].X / this.BoradWidth * canvasWidth, canvasHeight - this.pointObj[i][1].Y / this.BoradHeight * canvasHeight);\n        context.strokeStyle = \"black\";\n        context.lineWidth = 1.5;\n        context.stroke();\n      }\n    },\n    sendMessage: function sendMessage() {\n      var that = this;\n\n      if (this.textarea === null || this.textarea === '' || this.textarea === \" \") {\n        alert(\"别nm发空消息\");\n      } else {\n        that.form.JsonType = 6;\n        that.form.JsonData = that.textarea;\n        that.textarea = null;\n        var msg = JSON.stringify(that.form);\n        that.websocketsend(msg);\n      }\n    },\n    logout: function logout() {\n      this.$router.push(\"/Login\");\n      this.websock.close(); //离开路由之后断开websocket连接\n    },\n    initWebSocket: function initWebSocket() {\n      //初始化weosocket\n      //192.168.51.198\n      //101.34.101.58\n      // const wsuri = \"ws://192.168.51.132:9999\"; \n      // const wsuri = \"ws://192.168.51.198:9999\"; \n      var wsuri = \"ws://101.34.101.58:9999\";\n      this.websock = new WebSocket(wsuri);\n      this.websock.onopen = this.websocketonopen;\n      this.websock.onmessage = this.websocketonmessage;\n      this.websock.onerror = this.websocketonerror;\n      this.websock.onclose = this.websocketclose;\n    },\n    websocketonopen: function websocketonopen() {\n      //连接建立之后执行send方法发送数据\n      var msg = JSON.stringify(this.form); //转化为json字符串\n\n      console.log(this.form);\n      console.log(msg);\n      this.websocketsend(msg);\n    },\n    websocketonerror: function websocketonerror() {\n      //连接建立失败重连\n      alert(\"正在重新连接\");\n    },\n    websocketonmessage: function websocketonmessage(e) {\n      //数据接收\n      var jsonObj = eval('(' + e.data + ')');\n      console.log(jsonObj);\n      console.log(jsonObj.JsonType);\n\n      if (jsonObj.JsonData == \"false\") {\n        alert(\"登陆失败\");\n      } else {\n        if (jsonObj.JsonData == \"true\") {\n          alert(\"登陆成功\");\n          this.BoradWidth = jsonObj.BoradWidth;\n          this.BoradHeight = jsonObj.BoradHeight;\n        } else {\n          if (jsonObj.JsonType == 3) {\n            console.log(\"这是画线！！\");\n            this.canvascopy();\n            var pointObj = eval('(' + jsonObj.JsonData + ')');\n            this.pointObj = pointObj;\n            this.BoradWidth = jsonObj.BoradWidth;\n            this.BoradHeight = jsonObj.BoradHeight;\n            console.log(\"这是手写版的宽高：\" + jsonObj.BoradWidth + jsonObj.BoradHeight);\n          } else if (jsonObj.JsonType == 8) {\n            console.log(\"这是pdf！！\"); // console.log(\"这是清空画板\")\n            //  var c=document.getElementById(\"mycanvas\");  \n            //     var cxt=c.getContext(\"2d\");  \n            //     c.height=c.height;  \n\n            var imgObj = jsonObj.JsonData;\n            this.imgObj = imgObj;\n            console.log(2333 + this.imgObj);\n          } else if (jsonObj.JsonType == 2) {\n            console.log(\"这是消息！！\");\n            var count = {};\n            count.TeacherName = jsonObj.UserName, count.TeacherSay = jsonObj.JsonData, console.log(count);\n            this.ChatArray.push(count);\n          } else if (jsonObj.JsonType == 10) {\n            console.log(\"这是撤销！！\");\n            this.revocation();\n          } else if (jsonObj.JsonType == 9) {\n            console.log(\"这是清空花板！！\");\n            var c = document.getElementById(\"mycanvas\");\n            c.height = c.height;\n          }\n        }\n      } // if(jsonObj.ConnectionDetail = 8){\n      // \tif(jsonObj.JsonData == \"false\"){\n      // \tthis.$message.error('登陆失败');\n      // \t}else{\n      // \t\tif(jsonObj.JsonType == 4){\n      // \t\t\tconst that = this\n      // \t\t this.$message({\n      // \t\t\t\t  message: '登陆成功',\n      // \t\t\t\t  type: 'success'\n      // \t\t\t\t});\n      // \tthis.openLogin = false;\n      // \t\t}\n      // \telse if(jsonObj.JsonType == 8){\n      // \t\t\tvar imgObj = jsonObj.JsonData;\n      // \t\t\tthis.imgObj = imgObj\n      // \t\t\tconsole.log(2333+this.imgObj)\n      // \t\t}else if(jsonObj.JsonType == 3){\n      // \t\t\tthis.canvascopy();\n      // \t\t\tvar pointObj = eval('(' + jsonObj.JsonData + ')');\n      // \t\t\tthis.pointObj = pointObj\n      // \t\t\tthis.BoradWidth = jsonObj.BoradWidth\n      // \t\t\tthis.BoradHeight = jsonObj.BoradHeight\n      // \t\t\tconsole.log(\"这是手写版的宽高：\" + jsonObj.BoradWidth + jsonObj.BoradHeight)\n      // \t\t}else{\n      // \t\t\talert(\"这是其他的\")\n      // \t\t}\n      // \t// this.loginbtn = false\n      // \t}\n      // }\n\n    },\n    websocketsend: function websocketsend(Data) {\n      //数据发送\n      console.log(111 + Data);\n      console.log(\"这是数据长度\" + Data.length);\n      this.websock.send(Data);\n    },\n    websocketclose: function websocketclose(e) {\n      //关闭\n      console.log('断开连接', e);\n    }\n  },\n  mounted: function mounted() {\n    if (flv.isSupported()) {\n      var videoElement = document.getElementById('myvideo');\n      var flvPlayer = flv.createPlayer({\n        type: 'flv',\n        url: 'http://101.34.101.58/live?port=9988&&app=live&&stream=test',\n        isLive: true,\n        fluid: true // 首帧等待时长\n        // stashInitialSize: 2\n        // hasAudio: false,//是否有音频轨道\n\n      }, {\n        // lazyLoadMaxDuration: 3 * 60,\n        // enableWorker: true,\n        // 启用IO隐藏缓冲区。如果您需要实时（最小延迟）来进行实时流播放，则设置为false，但是如果网络抖动，则可能会停顿。\n        enableStashBuffer: false,\n        //是否开启播放器端缓存\n        fixAudioTimestampGap: false,\n        //音视频同步\n        isLive: true //是否为直播流\n        // autoCleanupMaxBackwardDuration:1,\n        // withCredentials: false,\n        // cors: true,        \n\n      });\n      flvPlayer.attachMediaElement(videoElement);\n      flvPlayer.load();\n      flvPlayer.play();\n    }\n\n    var _this = this;\n\n    window.onresize = function () {\n      // 定义窗口大小变更通知事件\n      _this.screenWidth = document.documentElement.clientWidth; //窗口宽度\n\n      _this.screenHeight = document.documentElement.clientHeight; //窗口高度\n\n      console.log(document.documentElement.clientWidth);\n      console.log(document.documentElement.clientWidth);\n    };\n\n    this.initCanvas(); // this.initWebSocket()\n\n    this.drawline();\n  },\n  computed: {\n    getuserCode: function getuserCode() {\n      return this.$store.state.userCode;\n    },\n    getclassCode: function getclassCode() {\n      return this.$store.state.classCode;\n    }\n  },\n  watch: {\n    pointObj: {\n      deep: true,\n      handler: function handler(newVal, oldVal) {\n        this.drawline();\n      }\n    },\n    countnum: {\n      deep: true,\n      handler: function handler(newVal, oldVal) {\n        var msg = JSON.stringify(this.form);\n        this.websocketsend(msg);\n        this.drawline();\n      }\n    },\n    imgObj: {\n      deep: true,\n      handler: function handler(newVal, oldVal) {\n        this.loadImg();\n      }\n    },\n    'screenWidth': function screenWidth(val) {\n      //监听屏幕宽度变化\n      console.log(123456);\n      console.log(this.imgData);\n      var canvas = document.getElementById(\"mycanvas\");\n      var context = canvas.getContext('2d');\n      canvas.width = window.innerWidth * 0.75;\n      canvas.height = window.innerHeight * 0.85;\n      canvas.style.width = window.innerWidth * 0.75;\n      canvas.style.height = window.innerHeight * 0.85;\n      console.log(window.innerWidth);\n      this.canvaspaste();\n    },\n    'screenHeight': function screenHeight() {\n      //监听屏幕高度变化\n      console.log(123456);\n      var canvas = document.getElementById(\"mycanvas\");\n      var context = canvas.getContext('2d');\n      canvas.width = window.innerWidth * 0.75;\n      canvas.height = window.innerHeight * 0.85;\n      canvas.style.width = window.innerWidth * 0.75;\n      canvas.style.height = window.innerHeight * 0.85;\n      this.canvaspaste();\n    }\n  }\n};",{"version":3,"sources":["Watch.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<el-container style = \"height: 100%;width: 100%;\">\r\n\t\t<!-- 头部 -->\r\n\t\t<el-header height = 7%>\r\n\t\t\t<div>\r\n\t\t\t\t<span>金奥绘画教学平台</span>\r\n\t\t\t</div>\r\n\t\t\t<el-button type = \"infor\" @click = \"dialogFormVisible  = true\">登录</el-button>\r\n\t\t\t<el-button type = \"infor\" >退出</el-button>\r\n\t\t</el-header>\r\n\t\t\r\n\t\t<!-- 除头部区域 -->\r\n\t\t<el-container style = \"height: 93%;\">\r\n\t\t\t<!-- 左边绘画区 -->\r\n\t\t\t<el-aside  width = 80%>\r\n\t\t\t\t<div style=\"width: 95%;height: 90%;margin:auto;text-align: center; transform: translateY(5%);\" id = \"canv\">\r\n\t\t\t\t\t<canvas id = \"mycanvas\" width=\"400\" height=\"400\" \r\n\t\t\t\t\tstyle=\"background-color: white;\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</canvas>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<!-- <el-button  type=\"warning\" icon=\"el-icon-star-off\" circle size=\"mini\" @click = \"candraw\"  id=\"unmuteButton\"></el-button> -->\r\n\t\t\t</el-aside>\r\n\t\t\r\n\t\t\t<!-- 右侧区域 -->\r\n\t\t\t<el-container >\r\n\t\t\t\t\r\n\t\t\t\t<!-- 右上角视频区域 -->\r\n\t\t\t\t<el-main style=\"height: 20%\">\r\n\t\t\t\t\t<div style=\"height: 100%;width: 100%;text-align: center;padding: 0;\">\r\n\t\t\t\t\t\t<video id=\"myvideo\" style=\"width: 200px;height: 95%;\"></video>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-main >\r\n\t\t\t  \r\n\t\t\t\t<!-- 右侧聊天区 -->\r\n\t\t\t\t<el-footer height=70% style = \"background-color: #005C5F;padding: 5%;\" class = \"messagefooter\">\r\n\t\t\t\t\t<div class=\"messagediv\" style=\"background-color: white;border-radius: 2%;\">\r\n\t\t\t\t\t\t<el-card class=\"box-card\"style=\"background-color: white;\" >\r\n\t\t\t\t\t\t  <div class=\"text item\" v-for=\"message in ChatArray\" :key=\"message\">\r\n\t\t\t\t\t\t\t{{message.TeacherName}}:{{message.TeacherSay}}\r\n\t\t\t\t\t\t\t<el-divider>\r\n\t\t\t\t\t\t\t</el-divider>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-footer>\r\n\t\t\r\n\t\t\t\t<!-- 右侧发消息区 -->\r\n\t\t\t\t<el-footer height=10% style=\"background-color:#ffa502;padding: 5%;\">\r\n\t\t\t\t\t<div style=\"height: 100%;\">\r\n\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tsize=\"medium\" \r\n\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\tv-model=\"textarea\"\r\n\t\t\t\t\t\t\tstyle=\"  display=inline-block;  width: 70%;\"\r\n\t\t\t\t\t\t\t@keyup.enter.native =\"sendMessage\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-edit\" circle style=\"  display=inline-block;  \r\n\t\t\t\t\t\t\tmargin-left: 15px;\" @click = \"sendMessage\" >\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-footer>\r\n\t\t\r\n\t\t\t</el-container>\r\n\t  </el-container>\r\n\t  \r\n\t  <!-- 登录DiaLog -->\r\n\t  <el-dialog title=\"学生登陆\" :visible.sync=\"dialogFormVisible\">\r\n\t\t\t<div style=\"text-align: center;\">\r\n\t\t\t\t<el-input style=\"width: 85%;margin-top: 10%;\" prefix-icon = \"iconfont icon-yonghu\" v-model=\"form.UserCode\"  placeholder=\"请输入学号\"></el-input>\r\n\t\t\t\t<el-input style=\"width: 85%;margin-top: 5%;\" prefix-icon = \"iconfont icon-banjiguanli\" v-model=\"form.CLassCode\"  placeholder=\"请输入班级号\" @keyup.enter.native=\"login\"></el-input>\r\n\t\t\t\t<el-button style=\"width: 85%;margin-top: 15%;height: 50px;\" type=\"primary\" @click = \"login()\">登录</el-button>\r\n\t\t\t</div> \r\n\t  </el-dialog>\r\n\t  \r\n\t</el-container>\n</template>\n\n<script>\r\n\timport $ from '../../node_modules/jquery/dist/jquery.js'\r\n\timport store from '../store.js'\r\n\timport flv from 'flv.js'\r\nexport default {\r\n\tstore,\r\n\tcreated(){\r\n\t\tif(flv.isSupported()){\r\n\t\t\tthis.player = flv.createPlayer({\r\n\t\t\ttype: 'flv',\r\n\t\t\turl: 'http://101.34.101.58/live?port=9988&&app=live&&stream=test',\r\n\t\t\tisLive: true,\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tdialogFormVisible :false,\r\n\t\t\tplayer : null,\r\n\t\t\tplaying: false,\r\n\t\t\tscreenWidth: 0,//屏幕宽度\r\n\t\t\tscreenHeight: 0,//屏幕高度\r\n\t\t\twebsock:null,\r\n\t\t\tdrawx:100,\r\n\t\t\tdrawy:500,\r\n\t\t\t//页面启动自动接连\r\n\t\t\tform:{\r\n\t\t\t\t\"ConnectionDetail\": 4,\r\n\t\t\t\t\"LocalIp\": \"192.168.51.198\",\r\n\t\t\t\t\"AimIp\": \"101.34.101.58\",\r\n\t\t\t\t\"UserType\": 0,\r\n\t\t\t\t// \"UserName\": store.state.userName,\r\n\t\t\t\t// \"UserCode\": store.state.userCode,\r\n\t\t\t\t// \"CLassCode\": store.state.classCode,\r\n\t\t\t\t\"UserName\": \"\",\r\n\t\t\t\t\"UserCode\": \"17003\",\r\n\t\t\t\t\"CLassCode\": \"5327\",\r\n\t\t\t\t\"JsonType\": 4,\r\n\t\t\t\t\"JsonData\": \"登录到服务器\",\r\n\t\t\t\t\"ContentSocket\": null\r\n\t\t\t},\r\n\t\t\tcountnum:0,\r\n\t\t\t//坐标点对象\r\n\t\t\tpointObj:null,\r\n\t\t\ttextarea: '',\r\n\t\t\tiscandraw:false,\r\n\t\t\tflag: false,\r\n\t\t\t  x: 0,\r\n\t\t\t  y: 0,\r\n\t\t\tpointArray:[],\r\n\t\t\ttestjson:{\"ConnectionDetail\":4,\"LocalIp\":\"192.168.51.198\",\"AimIp\":\"192.168.51.198\",\"UserType\":0,\r\n\t\t\t\"UserName\":123,\"UserCode\":123,\"CLassCode\":5327,\"JsonType\":6,\r\n\t\t\t\"JsonData\":\"\",\r\n\t\t\t\"ContentSocket\":null},\r\n\t\t\tChatArray:[],\r\n\t\t\tbgimg:\"http://qwf43oqfq.hn-bkt.clouddn.com/%E6%A1%8C%E9%9D%A2%E5%A3%81%E7%BA%B8.jpg\",\r\n\t\t\timgObj:null,\r\n\t\t\timgSrcRoot:'http://qwf43oqfq.hn-bkt.clouddn.com/',\r\n\t\t\timgData:null,\r\n\t\t\ttemp: null,\r\n\t\t\tpdfheight:0,\r\n\t\t\tpdfwidth:0,\r\n\t\t\tupPicture:null,\r\n\t\t\tnowPicture:null,\r\n\t\t}\r\n\t},\r\n\t\r\n\tmethods:{\r\n\t\tlogin(){\r\n\t\t\tthis.dialogFormVisible = false\r\n\t\t\tthis.initWebSocket()\r\n\t\t},\r\n\t\t\r\n\t\tclearcanvas(){\r\n\t\t\tvar context = document.getElementById(\"mycanvas\").getContext('2d');\r\n\t\t\t context.canvas.width = context.canvas.width;\r\n\t\t},\r\n\t\t\r\n\t\tcanvascopy(){\r\n\t\t          var context = document.getElementById(\"mycanvas\").getContext('2d');\r\n\t\t          var width = context.canvas.width;\r\n\t\t          var height = context.canvas.height;\r\n\t\t          this.imgData = context.getImageData(0, 0, width, height);\r\n\t\t\t\t  var newCanvas = $(\"<canvas>\")\r\n\t\t\t\t      .attr(\"width\", this.imgData.width)\r\n\t\t\t\t      .attr(\"height\", this.imgData.height)[0];\r\n\t\t\t\t  newCanvas.getContext(\"2d\").putImageData(this.imgData, 0, 0);\r\n\t\t\t\t  this.temp = newCanvas\r\n\t\t      },\r\n\t\t\r\n\t\tcanvaspaste(){\r\n\t\t        var context = document.getElementById(\"mycanvas\").getContext('2d');\r\n\t\t\t\tvar width = context.canvas.width;\r\n\t\t\t\tvar height = context.canvas.height;\r\n\t\t\t\tcontext.scale(width / this.temp.width ,height / this.temp.height)\r\n\t\t       context.drawImage(this.temp,0,0)\r\n\t\t\t   \r\n\t\t\t   this.imgData = context.getImageData(0, 0, width, height);\r\n\t\t\t   var newCanvas = $(\"<canvas>\")\r\n\t\t\t       .attr(\"width\", this.imgData.width)\r\n\t\t\t       .attr(\"height\", this.imgData.height)[0];\r\n\t\t\t   newCanvas.getContext(\"2d\").putImageData(this.imgData, 0, 0);\r\n\t\t\t   \r\n\t\t\t   // context = document.getElementById(\"mycanvas\").getContext('2d');\r\n\t\t\t   context.canvas.width  = width\r\n\t\t\t   context.canvas.height  = height\r\n\t\t\t    context.drawImage(newCanvas,0,0)\r\n\t\t\t   \r\n\t\t\t\tconsole.log(width + \" + \" + height)\r\n\t\t},\r\n\t\t\r\n\t\trevocation(){\r\n\t\t\t// this.canvaspaste();\r\n\t\t\tvar context = document.getElementById(\"mycanvas\").getContext('2d');\r\n\t\t\t context.canvas.width = context.canvas.width;\r\n\t\t\tthis.canvaspaste()\r\n\t\t},\r\n\t\t\r\n\t\tloadImg(){\r\n\t\t\tconst that = this\r\n\t\t\tvar beauty = new Image()\r\n\t\t\tbeauty.crossOrigin = 'Anonymous' //这是是需要加的\r\n\t\t\tbeauty.src = this.imgSrcRoot+this.imgObj\r\n\t\t\tconsole.log(444+beauty.src)\r\n\t\t\tbeauty.onload = function(){\r\n\t\t\t\t// 等比例缩放图片\r\n\t\t\t\tvar scale = 1;\r\n\t\t\t\tvar mycv = document.getElementById(\"mycanvas\")\r\n\t\t\t\tvar myctx = mycv.getContext(\"2d\")\r\n\t\t\t\tthis.width = mycv.width/2\r\n\t\t\t\tthis.height = mycv.height\r\n\t\t\t\tconsole.log(this.width + \"+\" + this.height)\r\n\t\t\t\tmyctx.drawImage(this, 0, 0, this.width, this.height);  // 加载图片\r\n\t\t\t\t//myctx.drawImage(this, 0, 0)\r\n\t\t\t\tthat.canvascopy()\r\n\t\t    };\r\n\t\t},\r\n\t\t\r\n\t\tinitCanvas(){\r\n\t\t\tconsole.log(\"initcanvas\")\r\n\t\t\t\tvar canvas = document.getElementById(\"mycanvas\")\r\n\t\t\t\tvar context = canvas.getContext('2d')\r\n\t\t\t\tcanvas.width = window.innerWidth * 0.75;\r\n\t\t\t\tcanvas.height =  window.innerHeight * 0.85;\r\n\t\t\t\tcanvas.style.width = window.innerWidth * 0.75;\r\n\t\t\t\tcanvas.style.height =  window.innerHeight * 0.85;\r\n\t\t},\r\n\t\t\r\n\t\tdrawline(){\r\n\t\t\tconst that = this\r\n\t\t\tconsole.log(\"可以画了\")\r\n\t\t\tconsole.log(window.innerWidth)\r\n\t\t\tvar canvas = document.getElementById(\"mycanvas\")\r\n\t\t\tvar context = canvas.getContext('2d')\r\n\t\t\t// canvas.width = window.innerWidth * 0.75;\r\n\t\t\t// canvas.height =  window.innerHeight * 0.85;\r\n\t\t\t// canvas.style.width = window.innerWidth * 0.75;\r\n\t\t\t// canvas.style.height =  window.innerHeight * 0.85;\r\n\t\t\tvar canvasWidth = canvas.width\r\n\t\t\tvar canvasHeight = canvas.height\r\n\t\t\tcanvas.onmousedown = function(e){\r\n\t\t\t\tthat.pointArray = []\r\n\t\t\t\tvar point = {}\r\n\t\t\t\tvar count = []\r\n\t\t\t\tvar mid = []\r\n\t\t\t\tvar e = e ||window.event;\r\n\t\t\t\tvar ox = e.clientX - window.innerWidth * 0.025 ;\r\n\t\t\t\tvar oy = e.clientY - window.innerHeight * 0.11;\r\n\t\t\t\tcontext.moveTo(ox,oy);\r\n\t\t\t\t\r\n\t\t\t\tdocument.onmousemove = function(e){\r\n\t\t\t\t\t// setTimeout(\"showLogin()\",1000); \r\n\t\t\t\t\tvar e = e || window.event; \r\n\t\t\t\t\tvar ox2 = e.clientX -  window.innerWidth * 0.025 ;\r\n\t\t\t\t\tvar oy2 = e.clientY - window.innerHeight * 0.11;\r\n\t\t\t\t\t\r\n\t\t\t\t\tpoint.X = parseFloat(that.BoradWidth - ((that.BoradWidth * (e.clientX -  window.innerWidth * 0.025)) / canvasWidth)).toFixed(4);\r\n\t\t\t\t\tpoint.Y =  parseFloat(that.BoradHeight - ((that.BoradHeight * (e.clientY -  window.innerHeight * 0.11)) / canvasHeight)).toFixed(4);\r\n\t\t\t\t\tconsole.log(point.X + \"+++\" + point.Y)\r\n\t\t\t\t\tcontext.lineTo(ox2,oy2);\r\n\t\t\t\t\tcontext.stroke();\r\n\t\t\t\t\tcount.push(point)\r\n\t\t\t\t\tpoint = {}\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t \r\n\t\t\t\tdocument.onmouseup  = function(e){\r\n\t\t\t\t\tdocument.onmousemove =null;\r\n\t\t\t\t\tdocument.onmouseup = null;\r\n\t\t\t\t\tfor(var i = 0;i < count.length; i++){\r\n\t\t\t\t\t   mid.push(count[i]) \r\n\t\t\t\t\t   mid.push(count[i + 1])\r\n\t\t\t\t\t   that.pointArray.push(mid)\r\n\t\t\t\t\t   mid = []\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.form.JsonType = 7\r\n\t\t\t\t\tvar msg = JSON.stringify(that.pointArray)\r\n\t\t\t\t\tthat.form.JsonData = msg\r\n\t\t\t\t\tthat.countnum++ \r\n\t\t\t\t\tthat.canvascopy()\r\n\t\t\t\t}\r\n\t\t\t\t\t   \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(1111111111111111111111111111111111111111111111)\r\n\t\t\t\tconsole.log(canvasWidth)\r\n\t\t\t\tconsole.log(canvasHeight)\r\n\t\t\t\tfor(var i = 0;i < this.pointObj.length; i++){\r\n\t\t\t\t\tcontext.moveTo(canvasWidth - this.pointObj[i][0].X  / this.BoradWidth *canvasWidth,canvasHeight - this.pointObj[i][0].Y / this.BoradHeight *canvasHeight) \r\n\t\t\t\t\tcontext.lineTo(canvasWidth - this.pointObj[i][1].X / this.BoradWidth *canvasWidth,canvasHeight - this.pointObj[i][1].Y / this.BoradHeight *canvasHeight)\r\n\t\t\t\t\tcontext.strokeStyle = \"black\"\r\n\t\t\t\t\tcontext.lineWidth = 1.5;\r\n\t\t\t\t\tcontext.stroke()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\r\n\t\tsendMessage(){\r\n\t\t\tconst that = this\r\n\t\t\tif(this.textarea === null || this.textarea === '' || this.textarea === \" \"){\r\n\t\t\t\talert(\"别nm发空消息\")\r\n\t\t\t}else{\r\n\t\t\t\tthat.form.JsonType = 6\r\n\t\t\t\tthat.form.JsonData = that.textarea\r\n\t\t\t\tthat.textarea = null\r\n\t\t\t\tvar msg = JSON.stringify(that.form);\r\n\t\t\t\tthat.websocketsend(msg)\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tlogout(){\r\n\t\t\tthis.$router.push(\"/Login\")\r\n\t\t\tthis.websock.close() //离开路由之后断开websocket连接\r\n\t\t},\r\n\r\n\t\tinitWebSocket(){ //初始化weosocket\r\n\t\t\t//192.168.51.198\r\n\t\t\t//101.34.101.58\r\n\t\t\t// const wsuri = \"ws://192.168.51.132:9999\"; \r\n\t\t\t// const wsuri = \"ws://192.168.51.198:9999\"; \r\n\t\t\tconst wsuri = \"ws://101.34.101.58:9999\";    \r\n\t\t\tthis.websock = new WebSocket(wsuri);\r\n\t\t\tthis.websock.onopen = this.websocketonopen;\r\n\t\t\tthis.websock.onmessage = this.websocketonmessage;\r\n\t\t\tthis.websock.onerror = this.websocketonerror;\r\n\t\t\tthis.websock.onclose = this.websocketclose;\r\n\t\t},\r\n\t\t\r\n\t\twebsocketonopen(){ //连接建立之后执行send方法发送数据\r\n\t\t\tvar msg = JSON.stringify(this.form);//转化为json字符串\r\n\t\t\tconsole.log(this.form);\r\n\t\t\tconsole.log(msg); \r\n\t\t\tthis.websocketsend(msg);\r\n\t\t},\r\n\t\t\r\n\t\twebsocketonerror(){//连接建立失败重连\r\n\t\t\talert(\"正在重新连接\");\r\n\t\t},\r\n\t\t\r\n\t\twebsocketonmessage(e){ //数据接收\r\n\t\t\tvar jsonObj = eval('(' + e.data + ')');\r\n\t\t\tconsole.log(jsonObj)\r\n\t\t\tconsole.log(jsonObj.JsonType)\r\n\t\t\tif(jsonObj.JsonData == \"false\"){\r\n\t\t\t\talert(\"登陆失败\")\r\n\t\t\t}else{\r\n\t\t\t\tif(jsonObj.JsonData == \"true\"){\r\n\t\t\t\t\talert(\"登陆成功\")\r\n\t\t\t\t\tthis.BoradWidth = jsonObj.BoradWidth\r\n\t\t\t\t\tthis.BoradHeight = jsonObj.BoradHeight\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(jsonObj.JsonType == 3){\r\n\t\t\t\t\t\tconsole.log(\"这是画线！！\");\r\n\t\t\t\t\t\tthis.canvascopy();\r\n\t\t\t\t\t\tvar pointObj = eval('(' + jsonObj.JsonData + ')');\r\n\t\t\t\t\t\tthis.pointObj = pointObj\r\n\t\t\t\t\t\tthis.BoradWidth = jsonObj.BoradWidth\r\n\t\t\t\t\t\tthis.BoradHeight = jsonObj.BoradHeight\r\n\t\t\t\t\t\tconsole.log(\"这是手写版的宽高：\" + jsonObj.BoradWidth + jsonObj.BoradHeight)\r\n\t\t\t\t\t}else if(jsonObj.JsonType == 8){\r\n\t\t\t\t\t\tconsole.log(\"这是pdf！！\");\r\n\t\t\t\t\t\t// console.log(\"这是清空画板\")\r\n\t\t\t\t\t\t//  var c=document.getElementById(\"mycanvas\");  \r\n\t\t\t\t\t\t//     var cxt=c.getContext(\"2d\");  \r\n\t\t\t\t\t\t//     c.height=c.height;  \r\n\t\t\t\t\t\tvar imgObj = jsonObj.JsonData;\r\n\t\t\t\t\t\tthis.imgObj = imgObj\r\n\t\t\t\t\t\tconsole.log(2333+this.imgObj)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(jsonObj.JsonType == 2){\r\n\t\t\t\t\t\tconsole.log(\"这是消息！！\");\r\n\t\t\t\t\t\tvar count = {}\r\n\t\t\t\t\t\tcount.TeacherName = jsonObj.UserName,\r\n\t\t\t\t\t\tcount.TeacherSay = jsonObj.JsonData,\r\n\t\t\t\t\t\tconsole.log(count)\r\n\t\t\t\t\t\tthis.ChatArray.push(count)\r\n\t\t\t\t\t}else if(jsonObj.JsonType == 10){\r\n\t\t\t\t\t\tconsole.log(\"这是撤销！！\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.revocation();\r\n\t\t\t\t\t}else if(jsonObj.JsonType == 9){\r\n\t\t\t\t\t\tconsole.log(\"这是清空花板！！\");\r\n\t\t\t\t\t\tvar c=document.getElementById(\"mycanvas\");\r\n\t\t\t\t\t\tc.height=c.height;  \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// if(jsonObj.ConnectionDetail = 8){\r\n\t\t\t// \tif(jsonObj.JsonData == \"false\"){\r\n\t\t\t// \tthis.$message.error('登陆失败');\r\n\t\t\t// \t}else{\r\n\t\t\t// \t\tif(jsonObj.JsonType == 4){\r\n\t\t\t// \t\t\tconst that = this\r\n\t\t\t// \t\t this.$message({\r\n\t\t\t// \t\t\t\t  message: '登陆成功',\r\n\t\t\t// \t\t\t\t  type: 'success'\r\n\t\t\t// \t\t\t\t});\r\n\t\t\t// \tthis.openLogin = false;\r\n\t\t\t// \t\t}\r\n\t\t\t\t\t\r\n\t\t\t// \telse if(jsonObj.JsonType == 8){\r\n\t\t\t// \t\t\tvar imgObj = jsonObj.JsonData;\r\n\t\t\t// \t\t\tthis.imgObj = imgObj\r\n\t\t\t// \t\t\tconsole.log(2333+this.imgObj)\r\n\t\t\t// \t\t}else if(jsonObj.JsonType == 3){\r\n\t\t\t// \t\t\tthis.canvascopy();\r\n\t\t\t// \t\t\tvar pointObj = eval('(' + jsonObj.JsonData + ')');\r\n\t\t\t// \t\t\tthis.pointObj = pointObj\r\n\t\t\t// \t\t\tthis.BoradWidth = jsonObj.BoradWidth\r\n\t\t\t// \t\t\tthis.BoradHeight = jsonObj.BoradHeight\r\n\t\t\t// \t\t\tconsole.log(\"这是手写版的宽高：\" + jsonObj.BoradWidth + jsonObj.BoradHeight)\r\n\t\t\t// \t\t}else{\r\n\t\t\t// \t\t\talert(\"这是其他的\")\r\n\t\t\t// \t\t}\r\n\t\t\t// \t// this.loginbtn = false\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\twebsocketsend(Data){//数据发送\r\n\t\t\tconsole.log(111 + Data)\r\n\t\t\tconsole.log(\"这是数据长度\" + Data.length )\r\n\t\t\tthis.websock.send(Data);\r\n\t\t},\r\n\t\t\r\n\t\twebsocketclose(e){  //关闭\r\n\t\t\tconsole.log('断开连接',e);\r\n\t\t},\t\r\n\t\r\n\t},\r\n\t\r\n\tmounted() {\r\n\t\tif (flv.isSupported()) {\r\n\t\t\t  var videoElement = document.getElementById('myvideo')\r\n\t\t\t  var flvPlayer = flv.createPlayer({\r\n\t\t\t   type: 'flv',\r\n\t\t\t   url: 'http://101.34.101.58/live?port=9988&&app=live&&stream=test',\r\n\t\t\t     isLive: true,\r\n\t\t\t\t fluid:true,\r\n\t\t\t\t// 首帧等待时长\r\n\t\t\t\t// stashInitialSize: 2\r\n\t\t\t    // hasAudio: false,//是否有音频轨道\r\n\t\t\t  },\r\n\t\t\t  {\r\n\t\t\t\t   // lazyLoadMaxDuration: 3 * 60,\r\n\t\t\t\t   // enableWorker: true,\r\n\t\t\t\t// 启用IO隐藏缓冲区。如果您需要实时（最小延迟）来进行实时流播放，则设置为false，但是如果网络抖动，则可能会停顿。\r\n\t\t        enableStashBuffer: false,//是否开启播放器端缓存\r\n\t\t\t\tfixAudioTimestampGap:false,//音视频同步\r\n\t\t\t\tisLive:true,//是否为直播流\r\n\t\t\t\t// autoCleanupMaxBackwardDuration:1,\r\n\t\t\t\t// withCredentials: false,\r\n\t\t\t\t // cors: true,        \r\n\t\t                     },\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t  flvPlayer.attachMediaElement(videoElement)\r\n\t\t\t  flvPlayer.load()\r\n\t\t\t  flvPlayer.play()\r\n\t\t} \r\n\t\t\r\n\t\tvar _this = this;\r\n\t\t\t\t\t\twindow.onresize = function(){ // 定义窗口大小变更通知事件\r\n\t\t                _this.screenWidth = document.documentElement.clientWidth; //窗口宽度\r\n\t\t                _this.screenHeight = document.documentElement.clientHeight; //窗口高度\r\n\t\t\t\t\t\tconsole.log(document.documentElement.clientWidth)\r\n\t\t\t\t\t\tconsole.log(document.documentElement.clientWidth)\r\n\t\t\t\t\t\t\r\n\t\t            };\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.initCanvas()\r\n\t\t\t\t\t// this.initWebSocket()\r\n\t\t\t\t\tthis.drawline()\r\n\t\t\r\n\t},\r\n\t\r\n\tcomputed:{\r\n\t\tgetuserCode(){\r\n\t\t\treturn this.$store.state.userCode;\r\n\t\t},\r\n\t\tgetclassCode(){\r\n\t\t   return this.$store.state.classCode;\r\n\t\t},\r\n\t\t\r\n\t },\r\n\t\r\n\twatch:{\r\n\t       pointObj: {\r\n\t         deep: true,\r\n\t         handler: function (newVal,oldVal){\r\n\t\t\t\t this.drawline()\r\n\t         }\r\n\t       },\r\n\r\n\t\t   countnum: {\r\n\t\t     deep: true,\r\n\t\t     handler: function (newVal,oldVal){\r\n\t\t\t\tvar msg = JSON.stringify(this.form);\r\n\t\t   \t\tthis.websocketsend(msg)\r\n\t\t\t\tthis.drawline()\r\n\t\t     }\r\n\t\t   },\r\n\t\timgObj: {\n\t\t\t\t deep: true,\n\t\t\t\t handler: function (newVal,oldVal){\n\t\t\t\t\t this.loadImg()  \r\n\t\t\t\t\t\n\t\t\t\t }\n\t\t},\r\n\t\t'screenWidth':function(val){ //监听屏幕宽度变化\r\n\t\t\tconsole.log(123456)\r\n\t\t\t\t\t\tconsole.log(this.imgData)\r\n\t\t                var canvas = document.getElementById(\"mycanvas\")\r\n\t\t                var context = canvas.getContext('2d')\r\n\t\t                canvas.width = window.innerWidth * 0.75;\r\n\t\t                canvas.height =  window.innerHeight * 0.85;\r\n\t\t                canvas.style.width = window.innerWidth * 0.75;\r\n\t\t                canvas.style.height =  window.innerHeight * 0.85;\r\n\t\t\t\t\t\tconsole.log(window.innerWidth)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.canvaspaste()\r\n\t\t            },\r\n\t\t'screenHeight':function(){ //监听屏幕高度变化\r\n\t\t\tconsole.log(123456)\r\n\t\t   var canvas = document.getElementById(\"mycanvas\")\r\n\t\t   var context = canvas.getContext('2d')\r\n\t\t   canvas.width = window.innerWidth * 0.75;\r\n\t\t   canvas.height =  window.innerHeight * 0.85;\r\n\t\t   canvas.style.width = window.innerWidth * 0.75;\r\n\t\t   canvas.style.height =  window.innerHeight * 0.85;\r\n\t\t   this.canvaspaste()\r\n\t\t}\r\n\t},\r\n\t   \r\n}\n</script>\n\n<style  scoped lang=\"less\">\r\n\t\r\n\t.el-header{\r\n\t\t background-color: #373d41;\r\n\t\t display: flex;\r\n\t\t justify-content: space-between;\r\n\t\t padding-left: 20px;\r\n\t\t align-items: center;\r\n\t\t color: #FFFFFF;\r\n\t\t font-size: 20px;\r\n\t\t >div{\r\n\t\t \tdisplay: flex;\r\n\t\t \talign-items: center;\r\n\t\t \t>span{\r\n\t\t \t\tmargin-left: 20px;\r\n\t\t \t}\r\n\t\t }\r\n\t } \r\n\t \r\n\t.messagediv{\r\n\t\t width: 100%;\r\n\t\t height: 100%;\r\n\t\t .el-card /deep/ .el-card__body {\r\n\t\t     height: 94%;\r\n\t\t\t\r\n\t\t }\r\n\t\t \r\n\t\t .box-card {\r\n\t\t\twidth: 100%;\r\n\t\t\t\r\n\t\t\tbackground-color: white;\r\n\t\t\ttext-align: left;\r\n\t\t\toverflow-y: auto;\r\n\t\t\toverflow-x:hidden;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\theight: 100%;\r\n\t\t\t.text {\r\n\t\t\t\tfont-size: 15px;\t\t\t\t\t\t\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t  \r\n\t\t\t}\r\n\t\t\t.item {\r\n\t\t\t\tline-height: 20px;\r\n\t\t\t}\r\n\t\t\t.el-divider{\r\n\t\t\t\tmargin: 10px 0;\r\n\t\t\t\tbackground: 0 0;\r\n\t\t\t\tborder-top: 1px solid #0b0b0c;\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t}\t \r\n\t}\r\n\r\n\t.el-footer {\r\n\t\tbackground-color: #B3C0D1;\r\n\t\t// background-color: #f9f4dc;\r\n\t\tcolor: #333;\r\n\t\ttext-align: center;\r\n\t\tline-height: 100%;\r\n\t}\r\n\r\n\t.el-aside {\r\n\t\tbackground-color: rgb(#ced6e0);\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.el-main {\r\n\t\tbackground-color: black;\r\n\t\tcolor: #333;\r\n\t\ttext-align: center;\r\n\t\tpadding: 0;\r\n\t}  \n</style>\n"],"sourceRoot":"src/components"}]}